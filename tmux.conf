# better prefix key
# set -g prefix C-a
# bind C-a send-prefix
unbind C-b
set -g prefix `
bind-key ` last-window
bind-key e send-prefix
# Start windows and panes index at 1, not 0.
set -g base-index 1
setw -g pane-base-index 1
# better splitting
bind _ split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
# pane navigation
bind -r h select-pane -L  # move left
bind -r j select-pane -D  # move down
bind -r k select-pane -U  # move up
bind -r l select-pane -R  # move right
bind > swap-pane -D       # swap current pane with the next one
bind < swap-pane -U       # swap current pane with the previous one
# pane resizing
bind -r H resize-pane -L 2
bind -r J resize-pane -D 2
bind -r K resize-pane -U 2
bind -r L resize-pane -R 2
# less colourful status
set -g status-bg colour240
set -g status-fg white
set -g window-style 'fg=colour247,bg=colour236'
set -g window-active-style 'fg=colour250,bg=black'

# 256 colors support
set -g default-terminal "screen-256color"
# sane scrolling
set -g mouse on

setw -g mode-keys vi

list-keys -T copy-mode-vi
# bind-key -T copy-mode-vi 'v' send -X begin-selection
# bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel

bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind P paste-buffer
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"

# Reload the tmux config.
bind-key r source-file ~/.tmux.conf
